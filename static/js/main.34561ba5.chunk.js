(this["webpackJsonpfood-order-app"]=this["webpackJsonpfood-order-app"]||[]).push([[0],[,,function(e,t,a){e.exports={"checkout-div":"Checkout_checkout-div__2tOkC","checkout-form":"Checkout_checkout-form__1_UKS","label-example":"Checkout_label-example__13Ovu","input-valid":"Checkout_input-valid__3xN9J","input-invalid":"Checkout_input-invalid__1g4xG","error-text":"Checkout_error-text__1t4uU","checkout-form-actions":"Checkout_checkout-form-actions__1WG9w",btn:"Checkout_btn__1fOw4","btn-close":"Checkout_btn-close__277ZF","btn-confirm":"Checkout_btn-confirm__1-jFH"}},,,,function(e,t,a){e.exports={"cart-items-list":"Cart_cart-items-list__1WhsE","empty-cart":"Cart_empty-cart__2uEX0","empty-cart-svg":"Cart_empty-cart-svg__1Lna7","empty-cart-text":"Cart_empty-cart-text__20Gui","cart-icon":"Cart_cart-icon__9NES9","cart-total":"Cart_cart-total__3Ixmh","cart-total-amount":"Cart_cart-total-amount__3zd_8","cart-total-price":"Cart_cart-total-price__2IXSS","cart-action":"Cart_cart-action__S9Io6","cart-action-close":"Cart_cart-action-close__gmc1s","cart-action-order":"Cart_cart-action-order__1iPgp"}},function(e,t,a){e.exports={"success-div":"Success_success-div__3XziO","success-msg":"Success_success-msg__1gSz0","success-msg-green":"Success_success-msg-green__NIQk4","msg-time":"Success_msg-time__1Popq","close-btn":"Success_close-btn__16I1w","success-svg":"Success_success-svg__3_RqP"}},function(e,t,a){e.exports={"meal-item":"MealItem_meal-item__34wdv","meal-poster":"MealItem_meal-poster__1pgBx","meal-item-info":"MealItem_meal-item-info__2k52I","meal-heading":"MealItem_meal-heading__1retU","meal-desc":"MealItem_meal-desc__3WL4h","meal-price":"MealItem_meal-price__1pz8p","meal-item-form-div":"MealItem_meal-item-form-div__1KrgN"}},,,function(e,t,a){e.exports={"cart-item":"CartItem_cart-item__37jAn",summary:"CartItem_summary__1HmYD",price:"CartItem_price__3lAx7",amount:"CartItem_amount__1dNCn",actions:"CartItem_actions__2yqEm"}},function(e,t,a){e.exports={"cart-btn":"HeaderCartButton_cart-btn__3Z_8v",bump:"HeaderCartButton_bump__tyKHk","cart-icon":"HeaderCartButton_cart-icon__-YeUV","cart-text":"HeaderCartButton_cart-text__K50Qe","cart-badge":"HeaderCartButton_cart-badge__DniJz"}},function(e,t,a){e.exports={"error-div":"Error_error-div__1BDuk","error-msg":"Error_error-msg__3CXRx","close-error-btn":"Error_close-error-btn__2uZet","error-svg":"Error_error-svg__VMNfx"}},,,function(e,t,a){e.exports={header:"Header_header__15PDK","header-nav":"Header_header-nav__3XdF4","brand-name":"Header_brand-name__2fXmE",banner:"Header_banner__1auwT"}},function(e,t,a){e.exports={summary:"MealsSummary_summary__sH8NL","summary-heading":"MealsSummary_summary-heading__2dsiz","summary-desc":"MealsSummary_summary-desc__3jhz2"}},function(e,t,a){e.exports={"meal-item":"MealItemForm_meal-item__34Tca","form-label":"MealItemForm_form-label__MNr6B","form-input":"MealItemForm_form-input__2OCEm","form-btn":"MealItemForm_form-btn__2CMGP"}},,,function(e,t,a){e.exports={backdrop:"Modal_backdrop__3E9Zz",fade:"Modal_fade__30l5h","modal-overlay":"Modal_modal-overlay__1uUP4"}},,function(e,t,a){e.exports={card:"Card_card__3WNBH"}},function(e,t,a){e.exports={"meal-list":"AvailableMeals_meal-list__3X_CF","loading-text":"AvailableMeals_loading-text__2F_Vu","error-text":"AvailableMeals_error-text__2nL82"}},,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(14),s=a.n(r),i=(a(30),a(4)),o=a(21),l=a.n(o),m=a(23),u=a.n(m),d=a(0);var j=function(e){return Object(d.jsx)("div",{className:"".concat(e.className?e.className+" "+u.a.card:u.a.card),children:e.children})};function b(e){return Object(d.jsx)("div",{className:l.a.backdrop,onClick:e.onClick})}function _(e){return Object(d.jsx)("div",{className:l.a["modal-overlay"],children:Object(d.jsx)(j,{className:l.a["modal-content"],children:e.children})})}var h=function(e){var t=document.getElementById("modal");return Object(d.jsxs)(d.Fragment,{children:[s.a.createPortal(Object(d.jsx)(b,{onClick:e.onClick}),t),s.a.createPortal(Object(d.jsx)(_,{children:e.children}),t)]})},p=a(6),x=a.n(p),O=n.a.createContext({items:[],totalAmount:0,addItems:function(e){},removeItem:function(e){},incrementItem:function(e){},resetCart:function(){}}),f=a(11),v=a.n(f);var C=function(e){var t="$".concat(e.price.toFixed(2));return Object(d.jsxs)("li",{className:v.a["cart-item"],children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:e.meal}),Object(d.jsxs)("div",{className:v.a.summary,children:[Object(d.jsx)("span",{className:v.a.price,children:t}),Object(d.jsxs)("span",{className:v.a.amount,children:["x ",e.amount]})]})]}),Object(d.jsxs)("div",{className:v.a.actions,children:[Object(d.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(d.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},g=a.p+"static/media/emptyCart.7c065d54.png",N=a(9),y=a.n(N),I=a(10),k=a(20);var S=function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),o=Object(i.a)(s,2),l=o[0],m=o[1],u=e(n);return{value:n,isValid:u,wasTouched:l,hasError:!u&&l,handleInputChange:function(e){r(e.target.value)},handleInputBlur:function(){m(!0)},resetInput:function(){r(""),m(!1)}}},E=a(2),M=a.n(E);var A=function(e){var t=S((function(e){return""!==e.trim()})),a=t.value,n=t.isValid,r=t.hasError,s=t.handleInputChange,i=t.handleInputBlur,o=S((function(e){return""!==e.trim()})),l=o.value,m=o.isValid,u=o.hasError,j=o.handleInputChange,b=o.handleInputBlur,_=S((function(e){return""!==e.trim()})),h=_.value,p=_.isValid,x=_.hasError,f=_.handleInputChange,v=_.handleInputBlur,C=S((function(e){return""!==e.trim()})),g=C.value,N=C.isValid,E=C.hasError,A=C.handleInputChange,T=C.handleInputBlur,H=Object(c.useContext)(O),w=!1;function F(){return(F=Object(k.a)(y.a.mark((function t(a){var c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://react-https-61e56-default-rtdb.firebaseio.com/orders.json",{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json"}});case 3:return c=t.sent,t.next=6,c.json();case 6:t.sent,e.onHideCart(),H.resetCart(),e.onSuccess(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),e.onHideCart(),e.onError(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}n&&m&&p&&N&&(w=!0);var B=r&&Object(d.jsx)("p",{className:M.a["error-text"],children:"Name cannot be empty"}),R=u&&Object(d.jsx)("p",{className:M.a["error-text"],children:"This field cannot be empty"}),D=x&&Object(d.jsx)("p",{className:M.a["error-text"],children:"This field cannot be empty"}),P=E&&Object(d.jsx)("p",{className:M.a["error-text"],children:"This field cannot be empty"});return Object(d.jsx)("div",{className:M.a["checkout-div"],children:Object(d.jsxs)("form",{className:M.a["checkout-form"],onSubmit:function(e){e.preventDefault(),w&&function(e){F.apply(this,arguments)}({id:(new Date).getTime(),name:a,house:l,street:h,city:g,orderItems:Object(I.a)(H.items),totalAmount:+H.totalAmount.toFixed(2)})},children:[Object(d.jsx)("label",{className:M.a["label-name"],children:"Your Name"}),Object(d.jsx)("input",{className:"".concat(r?M.a["input-invalid"]:""),type:"text",value:a,onChange:s,onBlur:i,autoComplete:"none"}),B,Object(d.jsxs)("label",{className:M.a["label-house-no"],children:["Wing-Flat Building / House\xa0",Object(d.jsx)("span",{className:M.a["label-example"],children:"(eg:- D-01 Abhilasha)"})]}),Object(d.jsx)("input",{className:"".concat(u?M.a["input-invalid"]:""),type:"text",value:l,onChange:j,onBlur:b,autoComplete:"none"}),R,Object(d.jsxs)("label",{className:M.a["label-street-name"],children:["Street / Area\xa0",Object(d.jsx)("span",{className:M.a["label-example"],children:"(eg:- Sai Nagar)"})]}),Object(d.jsx)("input",{className:"".concat(x?M.a["input-invalid"]:""),type:"text",value:h,onChange:f,onBlur:v,autoComplete:"none"}),D,Object(d.jsxs)("label",{className:M.a["label-city"],children:["City Pincode",Object(d.jsx)("span",{className:M.a["label-example"],children:"(eg:- Vasai 401202)"})]}),Object(d.jsx)("input",{className:"".concat(E?M.a["input-invalid"]:""),type:"text",value:g,onChange:A,onBlur:T,autoComplete:"none"}),P,Object(d.jsxs)("div",{className:M.a["checkout-form-actions"],children:[Object(d.jsx)("button",{className:"".concat(M.a.btn," ").concat(M.a["btn-close"]),onClick:e.onHideCart,children:"Close"}),Object(d.jsx)("button",{className:"".concat(M.a.btn," ").concat(M.a["btn-confirm"]),type:"submit",disabled:!w,children:"Confirm"})]})]})})};var T=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useContext)(O),o="$".concat(s.totalAmount.toFixed(2));function l(e){s.incrementItem(e)}function m(e){s.removeItem(e)}var u=Object(d.jsx)("ul",{className:x.a["cart-items-list"],children:s.items.map((function(e){return Object(d.jsx)(C,{id:e.id,meal:e.meal,amount:e.amount,price:e.price,onRemove:m.bind(null,e.id),onAdd:l.bind(null,e)},e.id)}))}),j=Object(d.jsxs)("div",{className:x.a["cart-action"],children:[Object(d.jsx)("button",{className:x.a["cart-action-close"],onClick:e.onHideCart,children:"Close"}),Object(d.jsx)("button",{className:x.a["cart-action-order"],onClick:function(){r(!0)},children:"Order"})]}),b=Object(d.jsxs)("div",{className:x.a["empty-cart"],children:[Object(d.jsx)("img",{className:x.a["empty-cart-svg"],src:g,alt:"Cart Empty"}),Object(d.jsx)("p",{className:x.a["empty-cart-text"],children:"Your cart is empty ! Try adding something ;)"})]});return Object(d.jsxs)(h,{onClick:e.onHideCart,children:[0===s.items.length&&b,s.items.length>0&&Object(d.jsxs)(d.Fragment,{children:[u,Object(d.jsxs)("div",{className:x.a["cart-total"],children:[Object(d.jsx)("span",{className:x.a["cart-total-amount"],children:"Total"}),Object(d.jsx)("span",{className:x.a["cart-total-price"],children:o})]}),!n&&j]}),s.items.length>0&&n&&Object(d.jsx)(A,{onHideCart:e.onHideCart,onError:e.onError,onSuccess:e.onSuccess})]})},H=a(16),w=a.n(H),F=a.p+"static/media/mealsImg.23447017.jpg",B=function(){return Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(d.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},R=a(12),D=a.n(R);var P=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useContext)(O).items,o="".concat(D.a["cart-btn"]," ").concat(n?D.a.bump:"");Object(c.useEffect)((function(){if(0!==s.length){r(!0);var e=setTimeout((function(){r(!1)}),300);return function(){clearTimeout(e)}}}),[s]);var l=s.reduce((function(e,t){return e+t.amount}),0);return Object(d.jsxs)("button",{className:o,onClick:e.onClick,children:[Object(d.jsx)("span",{className:D.a["cart-icon"],children:Object(d.jsx)(B,{})}),Object(d.jsx)("span",{className:D.a["cart-text"],children:"Your Cart"}),Object(d.jsx)("span",{className:D.a["cart-badge"],children:l})]})};var V=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("header",{className:w.a.header,children:Object(d.jsxs)("div",{className:w.a["header-nav"],children:[Object(d.jsx)("h2",{className:w.a["brand-name"],children:"Store 2 Door"}),Object(d.jsx)(P,{onClick:e.onShowCart})]})}),Object(d.jsx)("div",{className:w.a.banner,children:Object(d.jsx)("img",{src:F,draggable:"false",alt:"A Table Full Of Cuisines !"})})]})},z=a(17),Y=a.n(z);var X=function(){return Object(d.jsxs)("div",{className:Y.a.summary,children:[Object(d.jsx)("h3",{className:Y.a["summary-heading"],children:"Delicious Food , Delievered to you"}),Object(d.jsx)("p",{className:Y.a["summary-desc"],children:"Don't let your budget get in your way to enjoy mouth-watering , lip-smacking and tummy-filling meals. These meals are prepared considering all necessary hygenic precautions !"}),Object(d.jsx)("p",{className:Y.a["summary-desc"],children:'Calm your cravings by having option to choose from about 30 different types of cuisines. So what are you waiting for ? Order right now and use code "50%OFFER" to get upto 50% discount on your first order.'})]})},J=a(5),K=a(25),U=a.n(K),W=a(24),q=a.n(W),G=a(8),L=a.n(G),Z=a(18),$=a.n(Z);var Q=function(e){var t=Object(c.useRef)();return Object(d.jsxs)("form",{className:$.a["meal-item"],onSubmit:function(a){a.preventDefault();var c=+t.current.value;c.toString().trim().length<0||c<1||c>5||e.onAddToCart(c)},children:[Object(d.jsx)("label",{htmlFor:e.input.id,className:$.a["form-label"],children:e.label}),Object(d.jsx)("input",Object(J.a)(Object(J.a)({ref:t},e.input),{},{className:$.a["form-input"],required:!0})),Object(d.jsx)("button",{type:"submit",className:$.a["form-btn"],children:"+ Add"})]})};var ee=function(e){var t=Object(c.useContext)(O),a="$".concat(e.price.toFixed(2));return Object(d.jsxs)("li",{className:L.a["meal-item"],children:[Object(d.jsxs)("div",{className:L.a["meal-item-info"],children:[Object(d.jsx)("h3",{className:L.a["meal-heading"],children:e.meal}),Object(d.jsx)("p",{className:L.a["meal-desc"],children:e.desc}),Object(d.jsx)("p",{className:L.a["meal-price"],children:a})]}),Object(d.jsx)("div",{className:L.a["meal-item-form-div"],children:Object(d.jsx)(Q,{label:"No of items",onAddToCart:function(a){t.addItems({id:e.id,meal:e.meal,price:e.price,amount:a})},input:{id:"amount",type:"number",min:1,max:5,step:1,defaultValue:1}})}),Object(d.jsx)("img",{className:L.a["meal-poster"],src:e.poster,alt:"meal-poster"})]})};var te=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),s=Object(i.a)(r,2),o=s[0],l=s[1],m=Object(c.useState)(!0),u=Object(i.a)(m,2),b=u[0],_=u[1];Object(c.useEffect)((function(){var e=[],t=function(){var t=Object(k.a)(y.a.mark((function t(){var a,c,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://react-https-61e56-default-rtdb.firebaseio.com/meals.json");case 2:return a=t.sent,t.next=5,a.json();case 5:for(n in c=t.sent)e.push(Object(J.a)({id:n},c[n]));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().then((function(){n(e),_(null)})).catch((function(e){l("".concat(e.message," maybe retry ?"))}))}),[]);var h=Object(d.jsx)(U.a,{type:"ThreeDots",color:"#e24c06",height:"1rem",width:"100%"});return o&&(h=Object(d.jsx)("p",{className:q.a["error-text"],children:o})),o||b||(h=a.map((function(e){return Object(d.jsx)(ee,{id:e.id,meal:e.meal,desc:e.desc,price:e.price,poster:e.poster},e.id)}))),Object(d.jsx)(j,{children:Object(d.jsx)("ul",{className:q.a["meal-list"],children:h})})};var ae=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(X,{}),Object(d.jsx)(te,{})]})},ce={items:[],totalAmount:0},ne=function(e,t){if("ADD_CART_ITEM"===t.type){var a,c=e.totalAmount+t.item.price*t.item.amount,n=e.items.findIndex((function(e){return e.id===t.item.id})),r=e.items[n];if(r){var s=Object(J.a)(Object(J.a)({},r),{},{amount:r.amount+t.item.amount});(a=Object(I.a)(e.items))[n]=s}else a=e.items.concat(t.item);return{items:a,totalAmount:c}}if("INCREMENT_CART_ITEM"===t.type){var i,o=e.totalAmount+t.item.price,l=e.items.findIndex((function(e){return e.id===t.item.id})),m=e.items[l];if(m){var u=Object(J.a)(Object(J.a)({},m),{},{amount:m.amount+1});(i=Object(I.a)(e.items))[l]=u}return{items:i,totalAmount:o}}if("REMOVE_CART_ITEM"===t.type){var d,j=e.items.findIndex((function(e){return e.id===t.id})),b=e.items[j],_=e.totalAmount-b.price;if(1===b.amount)d=e.items.filter((function(e){return e.id!==t.id}));else{var h=Object(J.a)(Object(J.a)({},b),{},{amount:b.amount-1});(d=Object(I.a)(e.items))[j]=h}return{items:d,totalAmount:_}}return t.type,ce};var re=function(e){var t=Object(c.useReducer)(ne,ce),a=Object(i.a)(t,2),n=a[0],r=a[1],s={items:n.items,totalAmount:n.totalAmount,addItems:function(e){r({type:"ADD_CART_ITEM",item:e})},removeItem:function(e){r({type:"REMOVE_CART_ITEM",id:e})},incrementItem:function(e){r({type:"INCREMENT_CART_ITEM",item:e})},resetCart:function(){r({type:"RESET_CART"})}};return Object(d.jsx)(O.Provider,{value:s,children:e.children})},se=a.p+"static/media/error.03d9546c.png",ie=a(13),oe=a.n(ie);var le=function(e){return Object(d.jsx)(h,{children:Object(d.jsxs)("div",{className:oe.a["error-div"],children:[Object(d.jsx)("img",{className:oe.a["error-svg"],src:se,alt:"Somwthing went wrong"}),Object(d.jsx)("h3",{className:oe.a["error-msg"],children:e.errorMsg}),Object(d.jsx)("h3",{className:oe.a["error-msg"],children:"Maybe try again ?"}),Object(d.jsx)("button",{className:oe.a["close-error-btn"],onClick:e.onHideCart,children:"Close"})]})})},me=a.p+"static/media/order-confirmed.66273415.png",ue=a(7),de=a.n(ue);var je=function(e){return Object(d.jsx)(h,{children:Object(d.jsxs)("div",{className:de.a["success-div"],children:[Object(d.jsx)("img",{className:de.a["success-svg"],src:me,alt:"Yay"}),Object(d.jsx)("h3",{className:de.a["success-msg"],children:"Yay !!"}),Object(d.jsx)("h3",{className:"".concat(de.a["success-msg"]," ").concat(de.a["success-msg-green"]),children:"Order Placed Successfully"}),Object(d.jsxs)("h3",{className:de.a["success-msg"],children:["Your order will be delievered to you in approximately\xa0",Object(d.jsx)("span",{className:de.a["msg-time"],children:"30mins"}),". Enjoy !"]}),Object(d.jsx)("button",{className:de.a["close-btn"],onClick:e.onHideCart,children:"Close"})]})})};var be=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(),s=Object(i.a)(r,2),o=s[0],l=s[1],m=Object(c.useState)(),u=Object(i.a)(m,2),j=u[0],b=u[1];return Object(d.jsxs)(re,{children:[Object(d.jsx)(V,{onShowCart:function(){n(!0)}}),Object(d.jsx)(ae,{}),a&&Object(d.jsx)(T,{onHideCart:function(){n(!1)},onError:function(e){l(e)},onSuccess:function(){b(!0)}}),o&&Object(d.jsx)(le,{errorMsg:o,onHideCart:function(){l()}}),j&&Object(d.jsx)(je,{onHideCart:function(){b(!1)}})]})};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(be,{})}),document.getElementById("root"))}],[[53,1,2]]]);
//# sourceMappingURL=main.34561ba5.chunk.js.map