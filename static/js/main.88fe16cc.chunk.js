(this["webpackJsonpfood-order-app"]=this["webpackJsonpfood-order-app"]||[]).push([[0],{11:function(e,t,a){e.exports={"cart-item":"CartItem_cart-item__37jAn",summary:"CartItem_summary__1HmYD",price:"CartItem_price__3lAx7",amount:"CartItem_amount__1dNCn",actions:"CartItem_actions__2yqEm"}},12:function(e,t,a){e.exports={"cart-btn":"HeaderCartButton_cart-btn__3Z_8v",bump:"HeaderCartButton_bump__tyKHk","cart-icon":"HeaderCartButton_cart-icon__-YeUV","cart-text":"HeaderCartButton_cart-text__K50Qe","cart-badge":"HeaderCartButton_cart-badge__DniJz"}},13:function(e,t,a){e.exports={"error-div":"Error_error-div__1BDuk","error-msg":"Error_error-msg__3CXRx","close-error-btn":"Error_close-error-btn__2uZet","error-svg":"Error_error-svg__VMNfx"}},15:function(e,t,a){e.exports={header:"Header_header__15PDK","header-nav":"Header_header-nav__3XdF4","brand-name":"Header_brand-name__2fXmE",banner:"Header_banner__1auwT"}},16:function(e,t,a){e.exports={summary:"MealsSummary_summary__sH8NL","summary-heading":"MealsSummary_summary-heading__2dsiz","summary-desc":"MealsSummary_summary-desc__3jhz2"}},2:function(e,t,a){e.exports={"checkout-div":"Checkout_checkout-div__2tOkC","checkout-form":"Checkout_checkout-form__1_UKS","label-example":"Checkout_label-example__13Ovu","input-valid":"Checkout_input-valid__3xN9J","input-invalid":"Checkout_input-invalid__1g4xG","error-text":"Checkout_error-text__1t4uU","checkout-form-actions":"Checkout_checkout-form-actions__1WG9w",btn:"Checkout_btn__1fOw4","btn-close":"Checkout_btn-close__277ZF","btn-confirm":"Checkout_btn-confirm__1-jFH"}},20:function(e,t,a){e.exports={backdrop:"Modal_backdrop__3E9Zz",fade:"Modal_fade__30l5h","modal-overlay":"Modal_modal-overlay__1uUP4"}},22:function(e,t,a){e.exports={card:"Card_card__3WNBH"}},24:function(e,t,a){e.exports={"meal-list":"AvailableMeals_meal-list__3X_CF","loading-text":"AvailableMeals_loading-text__2F_Vu","error-text":"AvailableMeals_error-text__2nL82"}},33:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),n=a(9),s=a.n(n),i=(a(33),a(4)),o=a(20),l=a.n(o),m=a(22),u=a.n(m),d=a(0);var j=function(e){return Object(d.jsx)("div",{className:"".concat(e.className?e.className+" "+u.a.card:u.a.card),children:e.children})};function b(e){return Object(d.jsx)("div",{className:l.a.backdrop,onClick:e.onClick})}function h(e){return Object(d.jsx)("div",{className:l.a["modal-overlay"],children:Object(d.jsx)(j,{className:l.a["modal-content"],children:e.children})})}var _=function(e){var t=document.getElementById("modal");return Object(d.jsxs)(d.Fragment,{children:[s.a.createPortal(Object(d.jsx)(b,{onClick:e.onClick}),t),s.a.createPortal(Object(d.jsx)(h,{children:e.children}),t)]})},p=a(6),x=a.n(p),O=a(5),f=a(19),v={items:[],totalPrice:0,totalQuantity:0},g=Object(f.b)({name:"cart",initialState:v,reducers:{addItems:function(e,t){var a=t.payload,c=e.items.find((function(e){return e.id===a.id}));c?c.quantity++:e.items.push(a),e.totalQuantity++,e.totalPrice=e.totalPrice+a.price,e.totalPrice=+e.totalPrice.toFixed(2)},removeItems:function(e,t){var a=t.payload,c=e.items.find((function(e){return e.id===a.id}));1===c.quantity?e.items=e.items.filter((function(e){return e.id!==a.id})):c.quantity--,e.totalQuantity--,e.totalPrice=e.totalPrice-a.price,e.totalPrice=+e.totalPrice.toFixed(2)},resetCart:function(e){e=Object.assign(e,v)}}}),C=g.actions,y=g,N=a(11),k=a.n(N);var S=function(e){var t=Object(O.b)(),a={id:e.id,meal:e.meal,price:e.price,quantity:1};return Object(d.jsxs)("li",{className:k.a["cart-item"],children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:e.meal}),Object(d.jsxs)("div",{className:k.a.summary,children:[Object(d.jsx)("span",{className:k.a.price,children:"$".concat(e.price.toFixed(2))}),Object(d.jsxs)("span",{className:k.a.amount,children:["x ",e.quantity]})]})]}),Object(d.jsxs)("div",{className:k.a.actions,children:[Object(d.jsx)("button",{onClick:function(){t(C.removeItems(a))},children:"\u2212"}),Object(d.jsx)("button",{onClick:function(){t(C.addItems(a))},children:"+"})]})]})},I=a.p+"static/media/emptyCart.7c065d54.png",H=a(10),w=a.n(H),E=a(27),M=a(18);var B=function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(!1),o=Object(i.a)(s,2),l=o[0],m=o[1],u=e(r);return{value:r,isValid:u,wasTouched:l,hasError:!u&&l,handleInputChange:function(e){n(e.target.value)},handleInputBlur:function(){m(!0)},resetInput:function(){n(""),m(!1)}}},P=a(2),F=a.n(P);var T=function(e){var t=Object(O.b)(),a=Object(O.c)((function(e){return e.cart})),c=B((function(e){return""!==e.trim()})),r=c.value,n=c.isValid,s=c.hasError,i=c.handleInputChange,o=c.handleInputBlur,l=B((function(e){return""!==e.trim()})),m=l.value,u=l.isValid,j=l.hasError,b=l.handleInputChange,h=l.handleInputBlur,_=B((function(e){return""!==e.trim()})),p=_.value,x=_.isValid,f=_.hasError,v=_.handleInputChange,g=_.handleInputBlur,C=B((function(e){return""!==e.trim()})),N=C.value,k=C.isValid,S=C.hasError,I=C.handleInputChange,H=C.handleInputBlur,P=!1;function T(){return(T=Object(M.a)(w.a.mark((function a(c){var r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("https://react-https-61e56-default-rtdb.firebaseio.com/orders.json",{method:"POST",body:JSON.stringify(c),headers:{"Content-type":"application/json"}});case 3:r=a.sent,console.log(r.ok),e.onHideCart(),t(y.actions.resetCart()),e.onSuccess(),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),e.onHideCart(),e.onError(a.t0.message);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))).apply(this,arguments)}n&&u&&x&&k&&(P=!0);var q=s&&Object(d.jsx)("p",{className:F.a["error-text"],children:"Name cannot be empty"}),A=j&&Object(d.jsx)("p",{className:F.a["error-text"],children:"This field cannot be empty"}),D=f&&Object(d.jsx)("p",{className:F.a["error-text"],children:"This field cannot be empty"}),z=S&&Object(d.jsx)("p",{className:F.a["error-text"],children:"This field cannot be empty"});return Object(d.jsx)("div",{className:F.a["checkout-div"],children:Object(d.jsxs)("form",{className:F.a["checkout-form"],onSubmit:function(e){e.preventDefault(),P&&function(e){T.apply(this,arguments)}({id:(new Date).getTime(),name:r,house:m,street:p,city:N,orderItems:Object(E.a)(a.items),totalPrice:+a.totalPrice})},children:[Object(d.jsx)("label",{className:F.a["label-name"],children:"Your Name"}),Object(d.jsx)("input",{className:"".concat(s?F.a["input-invalid"]:""),type:"text",value:r,onChange:i,onBlur:o,autoComplete:"none"}),q,Object(d.jsxs)("label",{className:F.a["label-house-no"],children:["Wing-Flat Building / House\xa0",Object(d.jsx)("span",{className:F.a["label-example"],children:"(eg:- D-01 Abhilasha)"})]}),Object(d.jsx)("input",{className:"".concat(j?F.a["input-invalid"]:""),type:"text",value:m,onChange:b,onBlur:h,autoComplete:"none"}),A,Object(d.jsxs)("label",{className:F.a["label-street-name"],children:["Street / Area\xa0",Object(d.jsx)("span",{className:F.a["label-example"],children:"(eg:- Sai Nagar)"})]}),Object(d.jsx)("input",{className:"".concat(f?F.a["input-invalid"]:""),type:"text",value:p,onChange:v,onBlur:g,autoComplete:"none"}),D,Object(d.jsxs)("label",{className:F.a["label-city"],children:["City Pincode",Object(d.jsx)("span",{className:F.a["label-example"],children:"(eg:- Vasai 401202)"})]}),Object(d.jsx)("input",{className:"".concat(S?F.a["input-invalid"]:""),type:"text",value:N,onChange:I,onBlur:H,autoComplete:"none"}),z,Object(d.jsxs)("div",{className:F.a["checkout-form-actions"],children:[Object(d.jsx)("button",{className:"".concat(F.a.btn," ").concat(F.a["btn-close"]),onClick:e.onHideCart,children:"Close"}),Object(d.jsx)("button",{className:"".concat(F.a.btn," ").concat(F.a["btn-confirm"]),type:"submit",disabled:!P,children:"Confirm"})]})]})})};var q=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],n=a[1],s=Object(O.c)((function(e){return e.cart})),o="$".concat(s.totalPrice.toFixed(2)),l=Object(d.jsx)("ul",{className:x.a["cart-items-list"],children:s.items.map((function(e){return Object(d.jsx)(S,{id:e.id,meal:e.meal,quantity:e.quantity,price:e.price,onRemove:!0,onAdd:!0},e.id)}))}),m=Object(d.jsxs)("div",{className:x.a["cart-action"],children:[Object(d.jsx)("button",{className:x.a["cart-action-close"],onClick:e.onHideCart,children:"Close"}),Object(d.jsx)("button",{className:x.a["cart-action-order"],onClick:function(){n(!0)},children:"Order"})]}),u=Object(d.jsxs)("div",{className:x.a["empty-cart"],children:[Object(d.jsx)("img",{className:x.a["empty-cart-svg"],src:I,alt:"Cart Empty"}),Object(d.jsx)("p",{className:x.a["empty-cart-text"],children:"Your cart is empty ! Try adding something ;)"})]});return Object(d.jsxs)(_,{onClick:e.onHideCart,children:[0===s.items.length&&u,s.items.length>0&&Object(d.jsxs)(d.Fragment,{children:[l,Object(d.jsxs)("div",{className:x.a["cart-total"],children:[Object(d.jsx)("span",{className:x.a["cart-total-amount"],children:"Total"}),Object(d.jsx)("span",{className:x.a["cart-total-price"],children:o})]}),!r&&m]}),s.items.length>0&&r&&Object(d.jsx)(T,{onHideCart:e.onHideCart,onError:e.onError,onSuccess:e.onSuccess})]})},A=a(15),D=a.n(A),z=a.p+"static/media/mealsImg.23447017.jpg",V=function(){return Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(d.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},Y=a(12),X=a.n(Y);var Q=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],n=a[1],s=Object(O.c)((function(e){return e.cart})),o="".concat(X.a["cart-btn"]," ").concat(r?X.a.bump:"");return Object(c.useEffect)((function(){if(0!==s.items.length){n(!0);var e=setTimeout((function(){n(!1)}),300);return function(){clearTimeout(e)}}}),[s.items]),Object(d.jsxs)("button",{className:o,onClick:e.onClick,children:[Object(d.jsx)("span",{className:X.a["cart-icon"],children:Object(d.jsx)(V,{})}),Object(d.jsx)("span",{className:X.a["cart-text"],children:"Your Cart"}),Object(d.jsx)("span",{className:X.a["cart-badge"],children:s.totalQuantity})]})};var J=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("header",{className:D.a.header,children:Object(d.jsxs)("div",{className:D.a["header-nav"],children:[Object(d.jsx)("h2",{className:D.a["brand-name"],children:"Store 2 Door"}),Object(d.jsx)(Q,{onClick:e.onShowCart})]})}),Object(d.jsx)("div",{className:D.a.banner,children:Object(d.jsx)("img",{src:z,draggable:"false",alt:"A Table Full Of Cuisines !"})})]})},U=a(16),W=a.n(U);var K=function(){return Object(d.jsxs)("div",{className:W.a.summary,children:[Object(d.jsx)("h3",{className:W.a["summary-heading"],children:"Delicious Food , Delievered to you"}),Object(d.jsx)("p",{className:W.a["summary-desc"],children:"Don't let your budget get in your way to enjoy mouth-watering , lip-smacking and tummy-filling meals. These meals are prepared considering all necessary hygenic precautions !"}),Object(d.jsx)("p",{className:W.a["summary-desc"],children:'Calm your cravings by having option to choose from about 30 different types of cuisines. So what are you waiting for ? Order right now and use code "50%OFFER" to get upto 50% discount on your first order.'})]})},L=a(28),R=a(26),Z=a.n(R),G=a(24),$=a.n(G),ee=a(7),te=a.n(ee);var ae=function(e){var t=Object(O.b)(),a={id:e.id,meal:e.meal,price:e.price,quantity:1};return Object(d.jsxs)("li",{className:te.a["meal-item"],children:[Object(d.jsxs)("div",{className:te.a["meal-item-info"],children:[Object(d.jsx)("h3",{className:te.a["meal-heading"],children:e.meal}),Object(d.jsx)("p",{className:te.a["meal-desc"],children:e.desc}),Object(d.jsx)("p",{className:te.a["meal-price"],children:"$".concat(e.price.toFixed(2))})]}),Object(d.jsx)("div",{className:te.a["meal-item-addBtn-div"],children:Object(d.jsx)("button",{onClick:function(){t(C.addItems(a))},className:te.a["add-meal-btn"],children:"Add"})}),Object(d.jsx)("img",{className:te.a["meal-poster"],src:e.poster,alt:"meal-poster"})]})};var ce=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(null),s=Object(i.a)(n,2),o=s[0],l=s[1],m=Object(c.useState)(!0),u=Object(i.a)(m,2),b=u[0],h=u[1];Object(c.useEffect)((function(){var e=[],t=function(){var t=Object(M.a)(w.a.mark((function t(){var a,c,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://react-https-61e56-default-rtdb.firebaseio.com/meals.json");case 2:return a=t.sent,t.next=5,a.json();case 5:for(r in c=t.sent)e.push(Object(L.a)({id:r},c[r]));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().then((function(){r(e),h(null)})).catch((function(e){l("".concat(e.message," maybe retry ?"))}))}),[]);var _=Object(d.jsx)(Z.a,{type:"ThreeDots",color:"#e24c06",height:"1rem",width:"100%"});return o&&(_=Object(d.jsx)("p",{className:$.a["error-text"],children:o})),o||b||(_=a.map((function(e){return Object(d.jsx)(ae,{id:e.id,meal:e.meal,desc:e.desc,price:e.price,poster:e.poster},e.id)}))),Object(d.jsx)(j,{children:Object(d.jsx)("ul",{className:$.a["meal-list"],children:_})})};var re=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(K,{}),Object(d.jsx)(ce,{})]})},ne=a.p+"static/media/error.03d9546c.png",se=a(13),ie=a.n(se);var oe=function(e){return Object(d.jsx)(_,{children:Object(d.jsxs)("div",{className:ie.a["error-div"],children:[Object(d.jsx)("img",{className:ie.a["error-svg"],src:ne,alt:"Somwthing went wrong"}),Object(d.jsx)("h3",{className:ie.a["error-msg"],children:e.errorMsg}),Object(d.jsx)("h3",{className:ie.a["error-msg"],children:"Maybe try again ?"}),Object(d.jsx)("button",{className:ie.a["close-error-btn"],onClick:e.onHideCart,children:"Close"})]})})},le=a.p+"static/media/order-confirmed.66273415.png",me=a(8),ue=a.n(me);var de=function(e){return Object(d.jsx)(_,{children:Object(d.jsxs)("div",{className:ue.a["success-div"],children:[Object(d.jsx)("img",{className:ue.a["success-svg"],src:le,alt:"Yay"}),Object(d.jsx)("h3",{className:ue.a["success-msg"],children:"Yay !!"}),Object(d.jsx)("h3",{className:"".concat(ue.a["success-msg"]," ").concat(ue.a["success-msg-green"]),children:"Order Placed Successfully"}),Object(d.jsxs)("h3",{className:ue.a["success-msg"],children:["Your order will be delievered to you in approximately\xa0",Object(d.jsx)("span",{className:ue.a["msg-time"],children:"30mins"}),". Enjoy !"]}),Object(d.jsx)("button",{className:ue.a["close-btn"],onClick:e.onHideCart,children:"Close"})]})})};var je=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(),s=Object(i.a)(n,2),o=s[0],l=s[1],m=Object(c.useState)(),u=Object(i.a)(m,2),j=u[0],b=u[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(J,{onShowCart:function(){r(!0)}}),Object(d.jsx)(re,{}),a&&Object(d.jsx)(q,{onHideCart:function(){r(!1)},onError:function(e){l(e)},onSuccess:function(){b(!0)}}),o&&Object(d.jsx)(oe,{errorMsg:o,onHideCart:function(){l()}}),j&&Object(d.jsx)(de,{onHideCart:function(){b(!1)}})]})},be=Object(f.a)({reducer:{cart:y.reducer}});s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(O.a,{store:be,children:Object(d.jsx)(je,{})})}),document.getElementById("root"))},6:function(e,t,a){e.exports={"cart-items-list":"Cart_cart-items-list__1WhsE","empty-cart":"Cart_empty-cart__2uEX0","empty-cart-svg":"Cart_empty-cart-svg__1Lna7","empty-cart-text":"Cart_empty-cart-text__20Gui","cart-icon":"Cart_cart-icon__9NES9","cart-total":"Cart_cart-total__3Ixmh","cart-total-amount":"Cart_cart-total-amount__3zd_8","cart-total-price":"Cart_cart-total-price__2IXSS","cart-action":"Cart_cart-action__S9Io6","cart-action-close":"Cart_cart-action-close__gmc1s","cart-action-order":"Cart_cart-action-order__1iPgp"}},7:function(e,t,a){e.exports={"meal-item":"MealItem_meal-item__34wdv","meal-poster":"MealItem_meal-poster__1pgBx","meal-item-info":"MealItem_meal-item-info__2k52I","meal-heading":"MealItem_meal-heading__1retU","meal-desc":"MealItem_meal-desc__3WL4h","meal-price":"MealItem_meal-price__1pz8p","meal-item-addBtn-div":"MealItem_meal-item-addBtn-div__2v0qP","add-meal-btn":"MealItem_add-meal-btn__17C3u"}},8:function(e,t,a){e.exports={"success-div":"Success_success-div__3XziO","success-msg":"Success_success-msg__1gSz0","success-msg-green":"Success_success-msg-green__NIQk4","msg-time":"Success_msg-time__1Popq","close-btn":"Success_close-btn__16I1w","success-svg":"Success_success-svg__3_RqP"}}},[[59,1,2]]]);
//# sourceMappingURL=main.88fe16cc.chunk.js.map